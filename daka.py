import requests
import json
data = {'BackState': 1,
        'Latitude': 'null',
        'Longitude': 'null',
        'MorningTemp': "36.6",
        'NightTemp': "36.6",
        'RealAddress': "正在获取定位...",
        'RealCity': 'null',
        'RealCounty': 'null',
        'RealProvince': 'null',
        'tripinfolist': []}

url = 'https://fangkong.hnu.edu.cn/api/v1/clockinlog/add/'
cookie_str = r"CCKF_visitor_id_144692=1299268355; UM_distinctid=17478f18be55c9-0b266fdff9b052-58321f4d-144000-17478f18be6dad; \
        pgv_pvi=3370444800; Hm_lvt_d7e34467518a35dd690511f2596a570e=1606406616,1606406645,1606406659,1606579508; \
        Hm_lpvt_d7e34467518a35dd690511f2596a570e=1606580853; \
        TOKEN=b987de2aae6f4222948d8b10e770e3ea; \
        .ASPXAUTH=E9599A33AEA598FCBBC7B4EB0ACA3B30B0607D3AD972B071DF99B25CD355238A62935377A73E21D3FD4BB61DACAD1FEC2\
        3FD991976B5DCF81EB5EAF4D75752C32C12F06982045DE2C1C9CE0CA1E772EA6830E1C0EA8CA92E1374428E49AC261C05E391D99EBDAA\
        137DF33A62A2B8C4E7FFB9381B92CA0176E43FB88DC86FB753B8735AC287948B9D38B86B19531049E5AC4F3C5B1DD73085B037EDD548C\
        7D58FFF4497806D61B34385CCE736EA3E136670926023BEE6D2EF4B1FB003533DA4C09F0D77A19749F107FC01C6699BAC3FA16B115C397\
        FD1AE4AA21A7AB1EDC175E8F2FBF50EBA8EB0CFE2556898D62E6A0886CDE67667960DF525D5FE4A48B5D136BB472A8A26C65D3CD92F31BC\
        C66B291EAE5C18CD7F60E3310840F9B765E891277692629412A4F274BE29F72DB03CE766D5D99E49A39F2DE7BFD80204ECC8C8E\
        D9A550A299754F0A111AFD6049C100F726824D86249C3BB4536E13F10F9CF034C06707ACAB5EDB66B4FCF4A4840370B5\
        C0556BCFF6BCC696C8ED51FA557E4F1F3D6B4839069335ED5D92D5350971E4EF42F2142972F02CD712A0385585D0DD10B3D5A1F4\
        FB65180EE70DCB10E01F4AC08252CB25FE0A5F7BCFF4BA5EB8B1AB5D7C66AF11A628A4D5C4946DAD45C89A6023893155D8\
        B6FA211E86C6FC1E50A5F9A12E5530F68C21C51CD67268C55EB58B685410CC5A5241B1D6E0B3112F8707201339\
        22365FB9D11322A22F6329136AC7EF4091F26DB4E05432A1A40C3BFBCBE69E2C132812EA6B26338864E2C989ACAD44E17C850B7F14E92\
        83D8734868D041181E0714567DE6179F6CB4AFA93EF0B7F7199FEEAC79CBADEC01D4D217C324ACDDD48BFD999CA21B9736E89AC635916\
        EF01E8AB83257EE4520823D33E728418AA1984D65DCD7C563D4B6EB01FEAA6CC6CC3306DF6B9674419EAA51AEFF9BC01EC8AF2C7682BA9\
        C96E0CA291A805907C2FE7B55A2D81DF445277997151276BF78A83E381B4301AA2964DD854615F78C9D7D5C21E39457A310788D9AA02AF57\
        EA81BB592B76184FB901C5D00F0866D9651BFB12620B9CC9950E77EC7EF69535E50FDF5894EC55E09645BD4B02A69D0762F611900C06D643222\
        56670F4A3C8C79BBCDBC8A6C32C6A84BD303500E6A86CC8C6C7AA8708D38BEEE9BE3FD48830FFC805ED95C19386C4BA3CCD12FA2D2AB0A953312\
        CFE107F90D8CD8307203079D21699DCF7462B1F67636BDD9F990785A4ACA53C48A99C37B2379D06256879E9FC9EAF2880FD7A27E850A2BB160D6C\
        711018088EEC3173181514384B3794631E5C2CA9C4974E6699C810472C2FE64D57390D1F7EB4A3C63957B6E9DA8B3658DC3EEEB37AD94D7030DE4\
        02E128B5C65077061D24A14783E18F733B1C9702C253B696FD259D6CD395016B6E91FA2CDB917A51E13ADBD574FCB691F94D4A5285C2A\
        361F10073DFEA852A024A2B07979285E0D4273295E77B9B199690691EBE5B3038C41C970C05461D07B8646802E699E5327EAF8EE499DCBAF\
        FDD4FEEC77EAA5F72B63A14F3EAFBE4CE35F023343BC3F336111018275D0985F044982B4C6C73AECF034CCF0D26956F0EDD66A52\
        9BCFDCB4C39EB3BF7F1B388440BBEF7E24F9718F351402523B3E4EBADB9093CE298F5BDCB8DDAC26A8EBE038B22F80375912A0C9AF865AA7E9F\
        0B7D7A13F7C933AA2FB9D95EF877B138BB501BB0AC2085516BFA8AA7E730B2D4685CF64E77D570CE6FD4A2CD23009CC144BC2091BFFB184DD96E87\
        FC052B625197F1EB3B47F9AC1FBA3A9EC4144710E80A279023E598A3B447F0EEF445EC527F8CEFF66194D31473F27E70D15C4D45585008\
        724CE0578C81D6E5A671AA5A0A0971581DA5B735B262AD27634FFBD9980F90C63E1F441D964793EB99542584"
#把cookie字符串处理成字典，以便接下来使用
headers = {
        'Host': 'fangkong.hnu.edu.cn',
        'Connection': 'keep-alive',
        'Content-Length': 198,
        'Accept': 'application/json, text/plain, */*',
        'DNT': 1,
       ' User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/87.0.4280.67 Safari/537.36 Edg/87.0.664.47',
        'Content-Type': 'application/json;charset=UTF-8',
        'Origin': 'https://fangkong.hnu.edu.cn',
       ' Sec-Fetch-Site': 'same-origin',
        'Sec-Fetch-Mode': 'cors',
        'Sec-Fetch-Dest': 'empty',
        'Referer: https://fangkong.hnu.edu.cn/app/',
        'Accept-Encoding': 'gzip, deflate, br',
        'Accept-Language': 'zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6'
}
cookies = {
}
for line in cookie_str.split(';'):
        key, value = line.split('=', 1)
        cookies[key] = value

# result = requests.post(url, data,headers=header)  # 发送订阅消息
# print(result)

#在发送get请求时带上请求头和cookies
resp = requests.post(url,data=data,headers=headers,cookies = cookies)

print(resp)